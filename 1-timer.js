import"./assets/modulepreload-polyfill-B5Qt9EMX.js";/* empty css                      */import{f as h,i as m}from"./assets/vendor-BbbuE1sJ.js";let a=null;h("input#datetime-picker",{enableTime:!0,time_24hr:!0,defaultDate:new Date,minuteIncrement:1,enableSeconds:!0,onClose(i){a=i[0],console.log("Обраний час:",a),e.disabled=!1,e.classList.remove("disabled-button")}});const e=document.querySelector("button"),o=document.querySelector("#datetime-picker");o.disabled=!1;e.disabled=!0;e.classList.add("disabled-button");const b=document.querySelector("span[data-days]"),f=document.querySelector("span[data-hours]"),p=document.querySelector("span[data-minutes]"),v=document.querySelector("span[data-seconds]");class y{constructor({onTick:t}){this.onTick=t,this.isActive=!1,this.init(),this.intervalID=null}init(){const t=this.convertMs(0);this.onTick(t)}start(){if(a<=Date.now()){m.error({title:"Error",message:"Please choose a date in the future",position:"topRight"}),e.disabled=!0,e.classList.add("disabled-button");return}if(this.isActive){e.disabled=!0,o.disabled=!0,e.classList.add("disabled-button");return}this.isActive=!0,this.intervalID=setInterval(()=>{e.disabled=!0,o.disabled=!0,e.classList.add("disabled-button");const t=Date.now(),s=a-t;if(s<=0){clearInterval(this.intervalID),this.init(),this.isActive=!1,e.disabled=!1,o.disabled=!1,e.classList.remove("disabled-button");return}const n=this.convertMs(s);this.onTick(n)},1e3)}convertMs(t){const r=this.addLeadingZero(Math.floor(t/864e5)),c=this.addLeadingZero(Math.floor(t%864e5/36e5)),u=this.addLeadingZero(Math.floor(t%864e5%36e5/6e4)),l=this.addLeadingZero(Math.floor(t%864e5%36e5%6e4/1e3));return{days:r,hours:c,minutes:u,seconds:l}}addLeadingZero(t){return String(t).padStart(2,"0")}}const d=new y({onTick:L});e.addEventListener("click",d.start.bind(d));function L({days:i,hours:t,minutes:s,seconds:n}){b.textContent=`${i}`,f.textContent=`${t}`,p.textContent=`${s}`,v.textContent=`${n}`}
//# sourceMappingURL=1-timer.js.map
