import"./assets/modulepreload-polyfill-B5Qt9EMX.js";/* empty css                      */import{f as m,i as f}from"./assets/vendor-BbbuE1sJ.js";const e=document.querySelector("button"),a=document.querySelector("#datetime-picker"),b=document.querySelector("span[data-days]"),p=document.querySelector("span[data-hours]"),v=document.querySelector("span[data-minutes]"),y=document.querySelector("span[data-seconds]");let o=null;e.disabled=!0;e.classList.add("disabled-button");m("input#datetime-picker",{enableTime:!0,time_24hr:!0,defaultDate:new Date,minuteIncrement:1,enableSeconds:!0,onClose(i){if(o=i[0],o<=Date.now()){f.error({title:"Error",message:"Please choose a date in the future",position:"topRight"}),e.disabled=!0,e.classList.add("disabled-button");return}e.disabled=!1,e.classList.remove("disabled-button")}});class L{constructor({onTick:t}){this.onTick=t,this.isActive=!1,this.refresh(),this.intervalID=null}refresh(t=0){const s=this.convertMs(t);this.onTick(s)}start(){if(this.isActive)return Promise.reject();this.isActive=!0,e.disabled=!0,a.disabled=!0,e.classList.add("disabled-button"),new Promise(t=>{this.intervalID=setInterval(()=>{const s=Date.now(),n=o-s;if(n<=0){this.stop().then(t);return}const r=this.convertMs(n);this.onTick(r)},1e3)})}stop(){return this.isActive?(clearInterval(this.intervalID),this.isActive=!1,e.disabled=!1,a.disabled=!1,e.classList.remove("disabled-button"),this.refresh(0),Promise.resolve()):Promise.reject()}convertMs(t){const c=this.addLeadingZero(Math.floor(t/864e5)),u=this.addLeadingZero(Math.floor(t%864e5/36e5)),l=this.addLeadingZero(Math.floor(t%864e5%36e5/6e4)),h=this.addLeadingZero(Math.floor(t%864e5%36e5%6e4/1e3));return{days:c,hours:u,minutes:l,seconds:h}}addLeadingZero(t){return String(t).padStart(2,"0")}}const d=new L({onTick:S});e.addEventListener("click",d.start.bind(d));function S({days:i,hours:t,minutes:s,seconds:n}){b.textContent=`${i}`,p.textContent=`${t}`,v.textContent=`${s}`,y.textContent=`${n}`}
//# sourceMappingURL=1-timer.js.map
