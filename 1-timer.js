/* empty css                      */import{f as m,i as p}from"./assets/vendor-BbSUbo7J.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function i(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(t){if(t.ep)return;t.ep=!0;const s=i(t);fetch(t.href,s)}})();let c=null;m("input#datetime-picker",{enableTime:!0,time_24hr:!0,defaultDate:new Date,minuteIncrement:1,enableSeconds:!0,onClose(r){c=r[0],console.log("Обраний час:",c),o.disabled=!1,o.classList.remove("disabled-button")}});const o=document.querySelector("button"),d=document.querySelector("#datetime-picker");d.disabled=!1;const b=document.querySelector("span[data-days]"),y=document.querySelector("span[data-hours]"),g=document.querySelector("span[data-minutes]"),v=document.querySelector("span[data-seconds]");class L{constructor({onTick:e}){this.onTick=e,this.isActive=!1,this.init(),this.intervalID=null}init(){const e=this.convertMs(0);this.onTick(e)}start(){if(c<=Date.now()){p.error({title:"Error",message:"Please choose a date in the future",position:"topRight"}),o.disabled=!0,o.classList.add("disabled-button");return}if(this.isActive){o.disabled=!0,d.disabled=!0,o.classList.add("disabled-button");return}this.isActive=!0,this.intervalID=setInterval(()=>{o.disabled=!0,d.disabled=!0,o.classList.add("disabled-button");const e=Date.now(),i=c-e;if(i<=0){clearInterval(this.intervalID),this.init(),this.isActive=!1,o.disabled=!1,d.disabled=!1,o.classList.remove("disabled-button");return}const n=this.convertMs(i);this.onTick(n)},1e3)}convertMs(e){const a=this.addLeadingZero(Math.floor(e/864e5)),l=this.addLeadingZero(Math.floor(e%864e5/36e5)),f=this.addLeadingZero(Math.floor(e%864e5%36e5/6e4)),h=this.addLeadingZero(Math.floor(e%864e5%36e5%6e4/1e3));return{days:a,hours:l,minutes:f,seconds:h}}addLeadingZero(e){return String(e).padStart(2,"0")}}const u=new L({onTick:S});o.addEventListener("click",u.start.bind(u));function S({days:r,hours:e,minutes:i,seconds:n}){b.textContent=`${r}`,y.textContent=`${e}`,g.textContent=`${i}`,v.textContent=`${n}`}
//# sourceMappingURL=1-timer.js.map
